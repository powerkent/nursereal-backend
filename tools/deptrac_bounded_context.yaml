imports:
    - deptrac_bounded_context_violation.yaml


parameters:
    paths:
        - ../src

    layers:
        - name: Nursery
          collectors:
              - type: directory
                regex: src/[^/]+/Nursery/.*

        - name: Shared
          collectors:
              - type: directory
                regex: src/[^/]+/Shared/.*

        - name: Vendors
          collectors:
              - { type: className, regex: ^BackedEnum$ }
              - { type: className, regex: ^ApiPlatform\\ }
              - { type: className, regex: ^Psr\\ }
              - { type: className, regex: ^Symfony\\ }
              - { type: className, regex: ^Doctrine\\ }
              - { type: className, regex: ^Ramsey\\ }
              - { type: className, regex: ^Faker\\ }
              - { type: className, regex: ^Webmozart\\ }
              - { type: className, regex: ^PHPStan\\ }
              - { type: className, regex: ^PhpParser\\ }
              - { type: className, regex: ^Lexik\\ }

    ruleset:
        Nursery: [ Shared, Vendors ]
        Shared: [ Vendors ]
